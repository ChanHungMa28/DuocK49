<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Trắc nghiệm – Quy định về quản lý chất lượng thuốc</title>
  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, sans-serif;
      background: linear-gradient(180deg, #eef2ff, #f9fafb);
      color: #111827;
    }

    .container {
      max-width: 980px;
      margin: 32px auto 40px;
      padding: 24px 20px 32px;
      background: #ffffff;
      border-radius: 18px;
      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.12);
    }

    h1 {
      margin: 0 0 4px;
      font-size: 26px;
      letter-spacing: -0.04em;
      text-align: center;
      color: #1d4ed8;
    }

    .subtitle {
      text-align: center;
      font-size: 14px;
      color: #6b7280;
      margin-bottom: 20px;
    }

    .question {
      margin-bottom: 16px;
      padding: 14px 14px 12px;
      border-radius: 14px;
      background: #f9fbff;
      border: 1px solid #e0e7ff;
    }

    .question-header {
      display: flex;
      gap: 8px;
      align-items: flex-start;
    }

    .question-number {
      font-weight: 700;
      color: #4f46e5;
      font-size: 14px;
      min-width: 26px;
    }

    .question-text {
      font-weight: 600;
      font-size: 15px;
      color: #111827;
    }

    .options {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
    }

    .option-btn {
      flex: 1 1 calc(50% - 8px);
      border-radius: 999px;
      border: 1px solid #cbd5f5;
      background: #ffffff;
      padding: 8px 12px;
      font-size: 14px;
      text-align: left;
      cursor: pointer;
      white-space: normal;
      transition: background 0.16s ease, color 0.16s ease,
        border-color 0.16s ease, box-shadow 0.16s ease, transform 0.05s ease;
    }

    .option-btn:hover {
      transform: translateY(-1px);
      border-color: #818cf8;
      box-shadow: 0 2px 6px rgba(129, 140, 248, 0.25);
    }

    .option-btn.correct {
      background: #d1fae5;
      border-color: #10b981;
      color: #065f46;
      box-shadow: none;
      transform: none;
    }

    .option-btn.wrong {
      background: #fee2e2;
      border-color: #ef4444;
      color: #991b1b;
      box-shadow: none;
      transform: none;
    }

    .option-btn.disabled {
      opacity: 0.8;
      cursor: default;
      box-shadow: none;
    }

    .summary {
      margin-top: 26px;
      padding: 16px 14px 18px;
      border-radius: 14px;
      background: #eef2ff;
      border: 1px solid #c7d2fe;
      text-align: center;
    }

    .summary-text {
      font-weight: 600;
      font-size: 15px;
      color: #1f2937;
    }

    .summary-note {
      font-size: 13px;
      color: #6b7280;
      margin-top: 4px;
    }

    .reset-btn {
      margin-top: 12px;
      padding: 9px 18px;
      border-radius: 999px;
      border: none;
      background: #4f46e5;
      color: #ffffff;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(79, 70, 229, 0.35);
      transition: background 0.15s ease, transform 0.08s ease,
        box-shadow 0.15s ease;
    }

    .reset-btn:hover {
      background: #4338ca;
      transform: translateY(-1px);
      box-shadow: 0 10px 25px rgba(67, 56, 202, 0.4);
    }

    .reset-btn:active {
      transform: translateY(0);
      box-shadow: 0 4px 10px rgba(55, 48, 163, 0.4);
    }

    @media (max-width: 640px) {
      .container {
        margin: 12px;
        padding: 18px 14px 24px;
      }

      .option-btn {
        flex-basis: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Trắc nghiệm – Quản lý chất lượng thuốc</h1>
    <p class="subtitle">
      Chọn đáp án A–D cho từng câu. Đúng hiển thị màu xanh, sai hiển thị màu đỏ.
      Phía dưới có tổng kết số câu đúng. Đáp án sẽ được <b>trộn ngẫu nhiên</b> mỗi lần tải trang.
    </p>

    <div id="questions-container"></div>

    <div class="summary">
      <div id="score-text" class="summary-text">
        Bạn trả lời đúng 0/<span id="total-count"></span> câu.
      </div>
      <div class="summary-note">
        Mỗi câu chỉ tính điểm lần chọn đầu tiên. Nhấn "Làm lại" để làm lại toàn bộ.
      </div>
      <button id="reset-btn" class="reset-btn">Làm lại tất cả câu hỏi</button>
    </div>
  </div>

  <script>
    // Dữ liệu câu hỏi: giữ nguyên nội dung + chỉ số đáp án đúng gốc
    const questionsData = [
      {
        text: "Hệ thống tổ chức, quản lý và kiểm tra chất lượng thuốc gồm mấy phần?",
        options: ["2 phần", "3 phần", "4 phần", "5 phần"],
        correct: 1
      },
      {
        text: "Hệ thống quản lý chất lượng thuốc thuộc cơ quan nào chủ trì?",
        options: [
          "Cục Quản lý Dược Việt Nam",
          "Thanh tra Y tế",
          "Bộ Công Thương",
          "Bộ Tài chính"
        ],
        correct: 0
      },
      {
        text: "Một nhiệm vụ của Cục Quản lý Dược trong quản lý chất lượng thuốc là:",
        options: [
          "Kiểm tra giá thuốc",
          "Xây dựng văn bản pháp quy về tiêu chuẩn và chất lượng thuốc",
          "Quản lý hoạt động bán lẻ thuốc",
          "Quản lý cấp chứng chỉ hành nghề"
        ],
        correct: 1
      },
      {
        text: "Cục Quản lý Dược có nhiệm vụ:",
        options: [
          "Kiểm tra thuế xuất nhập khẩu",
          "Cấp giấy chứng nhận GSP và GLP",
          "Kiểm tra tiêu chuẩn ISO",
          "Phê duyệt danh mục trang thiết bị"
        ],
        correct: 1
      },
      {
        text: "Cơ quan quản lý chất lượng thuốc địa phương là:",
        options: ["UBND xã", "Sở Y tế", "Bộ Tài chính địa phương", "Công an tỉnh"],
        correct: 1
      },
      {
        text: "Cơ quan quản lý chất lượng thuốc địa phương thường ủy quyền cho:",
        options: [
          "Trung tâm xét nghiệm",
          "Phòng nghiệp vụ dược",
          "Bệnh viện tỉnh",
          "Trung tâm kiểm soát bệnh tật"
        ],
        correct: 1
      },
      {
        text: "Một nhiệm vụ của Sở Y tế trong quản lý chất lượng thuốc là:",
        options: [
          "Cấp giấy phép nhập khẩu",
          "Kiểm tra và thanh tra chất lượng thuốc tại địa phương",
          "Quản lý giá thuốc toàn quốc",
          "Kiểm định vắc xin"
        ],
        correct: 1
      },
      {
        text: "Hệ thống kiểm nghiệm thuốc của Trung Quốc gồm:",
        options: [
          "Bộ Y tế và các hiệu thuốc",
          "NIFDC và trung tâm kiểm nghiệm tuyến tỉnh",
          "WHO trực tiếp quản lý",
          "Hệ thống bệnh viện trung ương"
        ],
        correct: 1
      },
      {
        text: "Tại Malaysia, phòng kiểm nghiệm trực thuộc:",
        options: ["Bộ Tài chính", "NRPA", "WHO", "Vụ kiểm định thuốc ASEAN"],
        correct: 1
      },
      {
        text: "Quốc gia có 2 phòng kiểm nghiệm chính đặt tại Paris và Lyon là:",
        options: ["Đức", "Pháp", "Singapore", "Nhật Bản"],
        correct: 1
      },
      {
        text: "Cơ sở kiểm nghiệm nhà nước tuyến trung ương gồm:",
        options: [
          "Chỉ Viện kiểm nghiệm thuốc trung ương",
          "Viện kiểm nghiệm thuốc TW, Viện kiểm nghiệm TP.HCM, trung tâm khu vực, Viện kiểm định vắc xin",
          "Các nhà thuốc bệnh viện",
          "Bộ Y tế và Sở Y tế"
        ],
        correct: 1
      },
      {
        text: "Một nhiệm vụ của cơ sở kiểm nghiệm Nhà nước là:",
        options: [
          "Nhập khẩu thuốc",
          "Kiểm tra, đánh giá chất lượng và thẩm định tiêu chuẩn",
          "Quản lý giá thuốc",
          "Kinh doanh thuốc"
        ],
        correct: 1
      },
      {
        text: "Cơ sở kiểm nghiệm Nhà nước có nhiệm vụ đào tạo:",
        options: [
          "Nhân viên bán thuốc",
          "Cán bộ kiểm nghiệm",
          "Thanh tra viên",
          "Bác sĩ điều trị"
        ],
        correct: 1
      },
      {
        text: "Trung tâm kiểm nghiệm thuốc tỉnh/thành phố có nhiệm vụ:",
        options: [
          "Thẩm định tiêu chuẩn thuốc trên toàn quốc",
          "Kiểm tra chất lượng thuốc lưu hành trong địa bàn tỉnh",
          "Đào tạo cán bộ trung ương",
          "Xuất khẩu thuốc"
        ],
        correct: 1
      },
      {
        text: "Cơ sở sản xuất phải có bộ phận tự kiểm tra chất lượng có khả năng:",
        options: [
          "Kiểm nghiệm trong suốt quá trình sản xuất",
          "Kiểm tra doanh thu",
          "Quản lý hành chính",
          "Đánh giá thị trường"
        ],
        correct: 0
      },
      {
        text: "Cơ sở sản xuất phải lập:",
        options: [
          "Sổ theo dõi người lao động",
          "Sơ đồ theo dõi từng lô sản phẩm",
          "Sổ tài chính",
          "Báo cáo giá thuốc"
        ],
        correct: 1
      },
      {
        text: "Cơ sở bảo quản/phân phối thuốc phải có:",
        options: [
          "Bộ phận kế toán",
          "Bộ phận tự kiểm nghiệm hoặc kiểm soát chất lượng",
          "Bộ phận truyền thông",
          "Bộ phận nghiên cứu thị trường"
        ],
        correct: 1
      },
      {
        text: "Doanh nghiệp làm dịch vụ kiểm nghiệm thuốc phải đạt tiêu chuẩn:",
        options: ["ISO 9001", "Thực hành tốt kiểm nghiệm thuốc (GLP)", "GDP", "GMP"],
        correct: 1
      },
      {
        text: "Nếu doanh nghiệp kinh doanh thuốc muốn làm dịch vụ kiểm nghiệm cần:",
        options: [
          "Xin phép Bộ Công an",
          "Bổ sung chức năng kiểm nghiệm vào giấy chứng nhận đủ điều kiện kinh doanh thuốc",
          "Có doanh thu trên 10 tỷ",
          "Có phòng bán lẻ thuốc"
        ],
        correct: 1
      },
      {
        text: "Doanh nghiệp dịch vụ kiểm nghiệm có quyền:",
        options: [
          "Tự ý sản xuất thuốc",
          "Kiểm nghiệm nguyên liệu, bán thành phẩm, thành phẩm",
          "Quyết định giá thuốc",
          "Cấp số đăng ký thuốc"
        ],
        correct: 1
      },
      {
        text: "Doanh nghiệp dịch vụ kiểm nghiệm có nghĩa vụ:",
        options: [
          "Chỉ kiểm nghiệm khi có yêu cầu",
          "Chịu trách nhiệm về kết quả kiểm nghiệm",
          "Không cần bồi thường nếu sai sót",
          "Không cần báo cáo"
        ],
        correct: 1
      },
      {
        text: "Khi gây thiệt hại do kết quả kiểm nghiệm sai, doanh nghiệp phải:",
        options: [
          "Báo cáo Bộ Công Thương",
          "Bồi thường theo pháp luật",
          "Đổi mẫu kiểm nghiệm",
          "Tạm ngừng hoạt động"
        ],
        correct: 1
      },
      {
        text: "Thanh tra dược thuộc:",
        options: [
          "Bộ Công Thương",
          "Thanh tra Nhà nước về y tế",
          "Bộ Khoa học",
          "Hội đồng Dược điển"
        ],
        correct: 1
      },
      {
        text: "Thanh tra dược chịu sự chỉ đạo trực tiếp của:",
        options: [
          "Cục Quản lý Dược",
          "Chánh thanh tra y tế",
          "Bộ trưởng Bộ Tài chính",
          "Giám đốc bệnh viện"
        ],
        correct: 1
      },
      {
        text: "Một mục tiêu của thanh tra dược:",
        options: [
          "Giảm giá thuốc",
          "Kiểm tra việc chấp hành pháp luật về dược",
          "Kiểm tra thuế nhập khẩu",
          "Xử lý hồ sơ đăng ký thuốc"
        ],
        correct: 1
      },
      {
        text: "Thanh tra viên dược khi làm nhiệm vụ phải:",
        options: [
          "Mang thẻ thanh tra viên và sắc phục",
          "Chỉ cần thông báo miệng",
          "Không cần đồng phục",
          "Mang thẻ nhân viên y tế"
        ],
        correct: 0
      },
      {
        text: "Thanh tra dược có mấy cấp?",
        options: ["1 cấp", "2 cấp", "3 cấp", "4 cấp"],
        correct: 1
      },
      {
        text: "Thanh tra dược Bộ Y tế do ai bổ nhiệm?",
        options: [
          "Chủ tịch UBND tỉnh",
          "Giám đốc Sở Y tế",
          "Bộ trưởng Bộ Y tế",
          "Thủ tướng"
        ],
        correct: 2
      },
      {
        text: "Thanh tra viên dược Bộ Y tế được bổ nhiệm theo:",
        options: [
          "Đề nghị của UBND tỉnh",
          "Đề nghị của Chánh thanh tra Bộ Y tế",
          "Quyết định của Sở Y tế",
          "Đề xuất của doanh nghiệp"
        ],
        correct: 1
      },
      {
        text: "Cộng tác viên thanh tra dược là:",
        options: [
          "Người không cần chuyên môn",
          "Chuyên viên đầu ngành được mời tham gia từng nội dung thanh tra",
          "Bất kỳ cán bộ y tế nào",
          "Tình nguyện viên"
        ],
        correct: 1
      },
      {
        text: "Thanh tra dược cấp địa phương do ai bổ nhiệm?",
        options: [
          "Bộ trưởng Bộ Y tế",
          "Chánh thanh tra tỉnh",
          "Giám đốc Sở Y tế",
          "UBND Thành phố"
        ],
        correct: 2
      },
      {
        text: "Thanh tra dược Bộ Y tế có phạm vi thanh tra:",
        options: [
          "Trong phạm vi tỉnh",
          "Trong phạm vi cả nước",
          "Chỉ trong các bệnh viện",
          "Chỉ tại doanh nghiệp kinh doanh thuốc"
        ],
        correct: 1
      },
      {
        text: "Thanh tra dược Sở Y tế có phạm vi thanh tra:",
        options: [
          "Toàn quốc",
          "Trong tỉnh, thành phố trực thuộc trung ương",
          "Toàn bộ khu vực miền Nam",
          "Theo yêu cầu Bộ Y tế"
        ],
        correct: 1
      },
      {
        text: "Hệ thống kiểm tra chất lượng ở cơ sở phụ thuộc:",
        options: ["Quy mô cơ sở", "Doanh thu", "Số lượng lao động", "Vị trí địa lý"],
        correct: 0
      },
      {
        text: "Bệnh viện phải có bộ phận kiểm nghiệm đối với:",
        options: ["Thuốc nhập khẩu", "Thuốc tự pha chế", "Thuốc bán ra ngoài", "Thuốc kê đơn"],
        correct: 1
      },
      {
        text: "Doanh nghiệp làm dịch vụ kiểm nghiệm thuốc được hưởng:",
        options: [
          "Thuế ưu đãi",
          "Tiền thù lao dịch vụ kiểm nghiệm",
          "Giảm lệ phí đăng ký thuốc",
          "Hỗ trợ kinh phí"
        ],
        correct: 1
      },
      {
        text: "Tổ chức kiểm nghiệm Nhà nước có quyền:",
        options: [
          "Hủy thuốc",
          "Đề xuất biện pháp kỹ thuật để quản lý chất lượng thuốc",
          "Tự sản xuất thuốc",
          "Quyết định giá thuốc"
        ],
        correct: 1
      },
      {
        text: "Một nhiệm vụ của cơ sở kiểm nghiệm Nhà nước địa phương là:",
        options: [
          "Đào tạo cán bộ trung ương",
          "Kiểm tra chất lượng thuốc lưu hành trong địa bàn",
          "Kiểm định vắc xin quốc gia",
          "Ban hành tiêu chuẩn Dược điển"
        ],
        correct: 1
      },
      {
        text: "Việc trưng tập cộng tác viên thanh tra dược được quy định tại:",
        options: [
          "Luật Dược",
          "Nghị định 191/HĐBT",
          "Quyết định của UBND tỉnh",
          "Văn bản WHO"
        ],
        correct: 1
      },
      {
        text: "Mục tiêu chung của thanh tra dược là:",
        options: [
          "Quản lý giá thuốc",
          "Kiểm tra, thanh tra Nhà nước về chất lượng thuốc từ trung ương đến địa phương",
          "Tăng doanh thu",
          "Giảm chi phí kiểm nghiệm"
        ],
        correct: 1
      }
    ];

    // Hàm trộn mảng (Fisher–Yates)
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    document.addEventListener("DOMContentLoaded", () => {
      const container = document.getElementById("questions-container");
      const scoreText = document.getElementById("score-text");
      const totalCount = document.getElementById("total-count");
      const resetBtn = document.getElementById("reset-btn");

      let score = 0;

      function renderQuestions() {
        container.innerHTML = "";
        questionsData.forEach((q, index) => {
          const qDiv = document.createElement("div");
          qDiv.className = "question";
          qDiv.dataset.answered = "false";

          const header = document.createElement("div");
          header.className = "question-header";

          const num = document.createElement("div");
          num.className = "question-number";
          num.textContent = (index + 1) + ".";

          const text = document.createElement("div");
          text.className = "question-text";
          text.textContent = q.text;

          header.appendChild(num);
          header.appendChild(text);

          const optionsDiv = document.createElement("div");
          optionsDiv.className = "options";

          // Tạo mảng option kèm cờ đúng/sai rồi TRỘN
          const optionObjs = q.options.map((optText, idx) => ({
            text: optText,
            isCorrect: idx === q.correct
          }));
          shuffle(optionObjs);

          optionObjs.forEach((optObj, optIndex) => {
            const btn = document.createElement("button");
            btn.className = "option-btn";
            btn.textContent =
              String.fromCharCode(65 + optIndex) + ". " + optObj.text;
            btn.dataset.correct = optObj.isCorrect ? "true" : "false";
            optionsDiv.appendChild(btn);
          });

          qDiv.appendChild(header);
          qDiv.appendChild(optionsDiv);
          container.appendChild(qDiv);
        });
      }

      function attachHandlers() {
        const questions = document.querySelectorAll(".question");
        const total = questions.length;
        totalCount.textContent = total.toString();
        scoreText.textContent = `Bạn trả lời đúng ${score}/${total} câu.`;

        questions.forEach((q) => {
          const buttons = q.querySelectorAll(".option-btn");
          buttons.forEach((btn) => {
            btn.addEventListener("click", () => {
              if (q.dataset.answered === "true") return;

              q.dataset.answered = "true";
              const isCorrect = btn.dataset.correct === "true";
              const correctBtn = q.querySelector(
                '.option-btn[data-correct="true"]'
              );

              if (isCorrect) {
                btn.classList.add("correct");
                score++;
              } else {
                btn.classList.add("wrong");
                if (correctBtn) correctBtn.classList.add("correct");
              }

              buttons.forEach((b) => b.classList.add("disabled"));
              scoreText.textContent = `Bạn trả lời đúng ${score}/${total} câu.`;
            });
          });
        });
      }

      renderQuestions();
      attachHandlers();

      resetBtn.addEventListener("click", () => {
        score = 0;
        renderQuestions();
        attachHandlers();
      });
    });
  </script>
</body>
</html>
